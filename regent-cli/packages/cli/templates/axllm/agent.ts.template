{{TEMPLATE_IMPORTS}}
import { createAgent } from "@regent/core";
import { http } from "@regent/http";
import { createAxLLMClient } from "@regent/core/axllm";
import { payments, paymentsFromEnv } from "@regent/payments";

{{TEMPLATE_PRE_SETUP}}
const agent = await createAgent({
  name: process.env.AGENT_NAME ?? "my-agent",
  version: process.env.AGENT_VERSION ?? "0.1.0",
  description: process.env.AGENT_DESCRIPTION,
})
  .use(http())
  .use(payments({ config: paymentsFromEnv() }))
  .build();

const axClient = createAxLLMClient({
  logger: {
    warn(message, error) {
      if (error) {
        console.warn(`[agent] ${message}`, error);
      } else {
        console.warn(`[agent] ${message}`);
      }
    },
  },
});

if (!axClient.isConfigured()) {
  console.warn(
    "[agent] Ax LLM provider not configured â€” falling back to scripted output."
  );
}

{{TEMPLATE_POST_SETUP}}

